<div class="step-text">
<p></p><h5 id="description">Description</h5><p>In this stage, you will enhance the AI assistant with the ability to perform data analysis on the retrieved stock data. This will involve integrating the Code Interpreter tool to analyze the data and developing prompts that instruct the assistant on how to interpret stock data, such as identifying trends, calculating ratios, key metrics, and more.</p><div class="alert alert-primary"><p>Before adding additional tools like the Code Interpreter to your assistant, you need to first delete the old one and then recreate it with the new tools. The same applies to any modifications to the assistant; you can confirm this by checking in the assistant panel on the OpenAI website.</p></div><h5 id="objectives">Objectives</h5><p>To complete this stage, you need to implement these steps:</p><p><strong>1. Integrate Code Interpreter tool: </strong>To <a href="https://platform.openai.com/docs/assistants/tools/enabling-code-interpreter" rel="noopener noreferrer nofollow" target="_blank">enable the Code Interpreter</a> functionality, pass the <code class="java">code_interpreter</code> as a parameter in the <code class="java">tools</code>attribute of the Assistant object. Based on the nature of the user request, the model determines when to utilize the Code Interpreter during a run.</p><p><strong>2. Prompt the assistant: </strong>Change the prompt message to make the assistant retrieve and analyze the stock data, it can be as follows:</p><pre><code class="language-no-highlight">"Retrieve the monthly time series data for the stock symbol 'AAPL' for the latest 3 months."
"Analyze the retrieved stock data and identify any trends, calculate ratios, key metrics, etc." </code></pre><div class="alert alert-warning"><p>Sometimes, the assistant might attempt to generate an image response, which we will handle in the next stage. For now, you can request a text response only.</p></div><p><strong>3. Print the steps: </strong>Print the <a href="https://platform.openai.com/docs/assistants/tools/input-and-output-logs-of-code-interpreter" rel="noopener noreferrer nofollow" target="_blank">list of steps</a> with their IDs to see the inputs and outputs of Code Interpreter.</p><p></p><div class="alert alert-warning"><p>If you get an error regarding the rate limit exceeded (RPM). Try to set a timeout for 20 seconds between runs.</p></div><p></p><h5 id="examples">Examples</h5><p>Example1:</p><pre><code class="language-no-highlight">Matching `stock_analyzer_assistant` assistant found, using the first matching assistant with ID: asst_ixRCiWze9eII7yiW48BGfysf
Thread created with ID: thread_MSsimX0szrKc8klb7Z8HDaj8
Run initiated with ID: run_hTEad7OLCwauL1x0njCXnBVs
Waiting for response from `stock_analyzer_assistant` Assistant. Elapsed time: 0.00 seconds
Tool call with ID and name:  call_zFlM1aqjtfkqsNgszl4ruHeG retrieve_stock_data
Waiting for response from `stock_analyzer_assistant` Assistant. Elapsed time: 19.20 seconds
Done! Response received in 20.44 seconds.

Run initiated with ID: run_hTEad7OLCwauL1x0njCXnBVs
Assistant response: I have retrieved the monthly time series data for the stock symbol 'AAPL' for the latest 3 months. Here is a summary of the data:

- March 2024: Opened at $179.55, reached a high of $180.53, and closed at $170.73.
- February 2024: Opened at $183.98, reached a high of $191.05, and closed at $180.75.
- January 2024: Opened at $187.15, reached a high of $196.38, and closed at $184.40.

Analysis:
- Over the past 3 months, Apple Inc. (AAPL) stock prices have seen a slight decline from January to March 2024.
- The stock price showed volatility with fluctuating highs and lows during the analyzed period.
- The trading volume has been high, indicating significant interest and activity in the stock.

Further analysis can be conducted on historical trends, moving averages, and other financial ratios to gain deeper insights into the stock performance.

Step: step_vD9WQHVgRgCptyeVy6Gds68C
Step: step_uE5HihRpVnKlqOU6S8RxFKwF</code></pre>
</div>